{% extends "header.html" %}
{% load static %}
{% block content %}
{% include "Sidebar.html" %}
{% load widget_tweaks %}

<div class="ml-64 w-[calc(100%-16rem)] ">
    <div class=" text-green-500 p-4 mb-6  w-1/2 text-center">
        {% for message in messages %}
            <p id="messages" class="font-semibold text-lg">{{ message }}</p>
        {% endfor %}
    </div>
    <h2 class="text-4xl font-extrabold text-center text-green-700 mb-12 tracking-tight">
        Community Testimonials
    </h2>
    <p class="text-lg text-gray-700 text-center mb-8">
        Here are some heartfelt testimonials from our community members. These stories reflect the impact and experiences shared by those who have been part of our journey.
    </p>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for testimonial in testimonials %}
            <div class="bg-white rounded-2xl shadow-md p-6 flex flex-col items-center text-center hover:shadow-xl transition-shadow duration-300">
                {% if testimonial.image %}
                    <a href="{{ testimonial.image.url }}">
                        <img src="{{ testimonial.image.url }}" alt="Profile Picture"
                             class="w-32 h-32 rounded-full border-4 border-green-500 object-cover mb-4 hover:scale-105 transition-transform duration-300">
                    </a>
                {% else %}
                    <div class="w-32 h-32 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm mb-4 border-2 border-dashed border-gray-400">
                        No Image
                    </div>
                {% endif %}

                <h3 class="text-xl font-semibold text-gray-800">{{ testimonial.name }}</h3>
                <p class="text-sm text-green-600 mb-2 italic">{{ testimonial.designation }}</p>
                <p class="text-gray-600 text-base leading-relaxed mt-2 italic">
                    “{{ testimonial.message }}”
                </p>
                <div class="flex justify-center space-x-4 mt-auto pt-4">
                    {% if request.user.is_superuser %}
                    <a href="{% url 'update_testimonial' testimonial.pk %}" class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg shadow text-sm transition-all">
                      ✏️ Update
                    </a>
                    <a href="{% url 'delete_testimonial' testimonial.pk %}" class="bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg shadow text-sm transition-all">
                      🗑️ Delete
                    </a>
                      {% endif %}
                   
                  </div>
            </div>
        {% empty %}
            <p class="text-center col-span-full text-gray-500">No testimonials available at the moment.</p>
           
            {% endfor %}
    </div>

    <div class="text-center mt-12">
        <a href="{% url 'add_testimonial' %}"
           class="bg-green-600 hover:bg-green-500 text-white font-semibold py-3 px-8 rounded-xl shadow-lg transition-all duration-300 inline-flex items-center gap-2">
            <span class="text-xl">➕</span> Add Testimonial

        </a>
       

    </div>
</div>

</div>

{% include "footer.html" %}
{% endblock content %}
